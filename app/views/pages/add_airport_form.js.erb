$("<%= escape_javascript(render 'airports/location_input') %>")
  .hide()
  .appendTo(".search-form-group")
  .fadeIn(800);

$(".search-query").typeahead({
  source: function(query, process){
    return $.get('/airports/autocomplete',
      {query: query}, function(data){
        return process(data.result);
      });
  }
});

$("a.clear-text").on('click', function(e){
  e.preventDefault();
  $(this).closest('.input-group').find('#query').val('');
});